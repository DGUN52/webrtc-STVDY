import{F as p,a as k}from"./vee-validate.esm-07fa51b8.js";import{c as S,a as g}from"./index.esm-e7038182.js";import{i as d,e as w,j as x,f as y,o as C,c as F,a as f,b as t,d as i,w as u,u as e,r as N,n as Q,t as h,p as B}from"./index-4903a14b.js";import"./_commonjsHelpers-de833af9.js";const U={style:{color:"white"}},$={class:"form-group"},j=t("label",null,"제목",-1),z={class:"invalid-feedback"},A={class:"form-group"},D=t("label",null,"본문",-1),E={class:"form-group"},P=["disabled"],K={__name:"CreateQtn",setup(T){const v=S().shape({title:g().required("제목을 작성해주세요.")});let a={},c=!1,m=d("등록하기");const s=w(),n=x();s.question.id===s.pickedQtn&&(s.pickedQtn=null,a=d(s.question),c=!0,m=d("수정하기"));async function b(r){try{c?(await s.update(a.id,r),await N.push({name:"qtndetail"}),n.success("수정이 완료되었습니다.")):(await s.create(r),n.success("질문이 등록되었습니다."))}catch(o){n.error(o)}}return(r,o)=>{const V=y("router-link");return C(),F("div",U,[f(" 질문 작성.vue "),t("div",null,[i(e(k),{onSubmit:b,"validation-schema":e(v)},{default:u(({errors:_,isSubmitting:q})=>[t("div",$,[j,i(e(p),{name:"title",modelValue:e(a).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(a).title=l),type:"text",class:Q(["form-control",{"is-invalid":_.title}])},null,8,["modelValue","class"]),t("div",z,h(_.title),1)]),t("div",A,[D,i(e(p),{modelValue:e(a).detail,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).detail=l),name:"detail",rules:"required"},{default:u(({field:l})=>[t("textarea",B(l,{name:"detail"}),null,16)]),_:1},8,["modelValue"])]),t("div",E,[t("button",{disabled:q},h(e(m)),9,P),i(V,{to:"question"},{default:u(()=>[f("취소하기")]),_:1})])]),_:1},8,["validation-schema"])])])}}};export{K as default};
