import{F as p,a as g}from"./vee-validate.esm-b09b8c3f.js";import{c as k,a as x}from"./index.esm-e7038182.js";import{x as d,e as S,m as w,g as y,o as C,c as F,b as f,d as t,a as i,w as u,u as e,r as N,n as Q,t as h,y as B}from"./index-f0d74d49.js";import"./_commonjsHelpers-de833af9.js";const U={style:{color:"white"}},$={class:"form-group"},z=t("label",null,"제목",-1),A={class:"invalid-feedback"},D={class:"form-group"},E=t("label",null,"본문",-1),P={class:"form-group"},T=["disabled"],K={__name:"CreateQtn",setup(j){const v=k().shape({title:x().required("제목을 작성해주세요.")});let a={},c=!1,m=d("등록하기");const s=S(),n=w();s.question.id===s.pickedQtn&&(s.pickedQtn=null,a=d(s.question),c=!0,m=d("수정하기"));async function b(r){try{c?(await s.update(a.id,r),await N.push({name:"qtndetail"}),n.success("수정이 완료되었습니다.")):(await s.create(r),n.success("질문이 등록되었습니다."))}catch(o){n.error(o)}}return(r,o)=>{const V=y("router-link");return C(),F("div",U,[f(" 질문 작성.vue "),t("div",null,[i(e(g),{onSubmit:b,"validation-schema":e(v)},{default:u(({errors:_,isSubmitting:q})=>[t("div",$,[z,i(e(p),{name:"title",modelValue:e(a).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(a).title=l),type:"text",class:Q(["form-control",{"is-invalid":_.title}])},null,8,["modelValue","class"]),t("div",A,h(_.title),1)]),t("div",D,[E,i(e(p),{modelValue:e(a).detail,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).detail=l),name:"detail",rules:"required"},{default:u(({field:l})=>[t("textarea",B(l,{name:"detail"}),null,16)]),_:1},8,["modelValue"])]),t("div",P,[t("button",{disabled:q},h(e(m)),9,T),i(V,{to:"question"},{default:u(()=>[f("취소하기")]),_:1})])]),_:1},8,["validation-schema"])])])}}};export{K as default};
